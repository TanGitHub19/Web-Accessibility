<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Draggable Accessibility Widget</title>
  <style>
    .asw-menu-btn {
      position: fixed;
      z-index: 500000;
      left: 30px;
      bottom: 30px;
      box-shadow: 0 5px 15px 0 rgb(37 44 97 / 15%), 0 2px 4px 0 rgb(93 100 148 / 20%);
      transition: transform .2s ease;
      border-radius: 50%;
      align-items: center;
      justify-content: center;
      width: 58px;
      height: 58px;
      display: flex;
      cursor: grab;
      border: 3px solid white !important;
      outline: 5px solid #0048ff !important;
      text-decoration: none !important;
      background: linear-gradient(96deg, rgba(50,108,255,1) 0%, rgba(0,72,255,1) 100%) !important;
    }
    .asw-menu-btn svg {
      width: 36px;
      height: 36px;
    }
  </style>
</head>
<body>
  <div class="asw-widget">
    <a href="https://accessibility-widget.pages.dev" 
       target="_blank" 
       class="asw-menu-btn" 
       title="Open Accessibility Menu" 
       role="button" 
       aria-expanded="false">
      <svg xmlns="http://www.w3.org/2000/svg" style="fill:white;" viewBox="0 0 24 24">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M20.5 6c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 8c1.86.5 4 .83 6 1v13h2v-6h2v6h2V9c2-.17 4.14-.5 6-1l-.5-2zM12 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"/>
      </svg>
    </a>
  </div>

  <script>
    const btn = document.querySelector(".asw-menu-btn");

    window.addEventListener("load", () => {
      const rect = btn.getBoundingClientRect();
      btn.style.top = rect.top + "px";
      btn.style.left = rect.left + "px";
      btn.style.bottom = "auto";
      btn.style.right = "auto";
    });

    let isDragging = false;
    let dragMoved = false;
    let dragOffsetX = 0;
    let dragOffsetY = 0;

    btn.addEventListener("mousedown", (e) => {
      isDragging = true;
      dragMoved = false;
      dragOffsetX = e.clientX - btn.getBoundingClientRect().left;
      dragOffsetY = e.clientY - btn.getBoundingClientRect().top;
      btn.style.transition = "none";
      btn.style.cursor = "grabbing";
    });

    document.addEventListener("mousemove", (e) => {
      if (isDragging) {
        dragMoved = true;
        btn.style.left = e.clientX - dragOffsetX + "px";
        btn.style.top = e.clientY - dragOffsetY + "px";
      }
    });

    document.addEventListener("mouseup", () => {
      if (isDragging) {
        isDragging = false;
        btn.style.transition = "";
        btn.style.cursor = "grab";
      }
    });

    btn.addEventListener("click", (event) => {
      if (dragMoved) event.preventDefault();
    });
  </script>
</body>
</html>
